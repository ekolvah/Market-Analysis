# Требования к проекту

## Инструкции для AI-ассистента

### Важные ограничения и правила
1. Этот документ является ОБЯЗАТЕЛЬНЫМ набором требований и ограничений для всех изменений в коде
2. НЕЛЬЗЯ удалять или модифицировать код, который реализует отмеченные как ✅ требования
3. При предложении изменений необходимо:
   - Проверить соответствие требованиям из этого документа
   - Убедиться, что изменения не нарушают существующую функциональность
   - Сохранить все необходимые компоненты для реализации отмеченных как ✅ требований
4. При сомнениях в необходимости кода - проверить его связь с требованиями в этом документе

### Статусы требований
- ❌ Не сделано - можно добавлять новую функциональность
- ✅ Сделано - существующий код НЕЛЬЗЯ удалять или существенно менять без явного разрешения

## 1. Функциональные требования

### 1.1 Анализ данных
- ✅ Определение значительных изменений цены
  * ✅ Настройка пороговых значений
  * ✅ Учет временного окна анализа
- ✅ Анализ причин
  * ✅ Временная корреляция событий
  * ✅ Оценка влияния событий
  * ✅ Ранжирование причин
- ❌ Дополнительный анализ
  * ❌ Технический анализ
  * ❌ Анализ макроэкономических факторов
  * ❌ Анализ социальных сетей

### 1.2 Хранение данных
- ✅ База данных SQLite
  * ✅ Таблица изменений цены
  * ✅ Таблица событий
  * ✅ Таблица корреляций
  * ✅ Пересоздание БД при запуске init_db
  * ✅ Предотвращение дубликатов при добавлении записей
- ✅ Индексация для оптимизации запросов
- ❌ Резервное копирование

## 2. Технические требования

### 2.1 Технологический стек
- ✅ Python 3.8+
- ✅ Основные библиотеки:
  * ✅ pandas
  * ✅ sqlalchemy
  * ✅ loguru
  * ✅ pyyaml
- ❌ Дополнительные библиотеки:
  * ❌ scikit-learn
  * ❌ nltk
  * ❌ matplotlib

### 2.2 Параметры работы
- ✅ Конфигурация через YAML
- ✅ Логирование операций
- ✅ Обработка ошибок
- ❌ Периодическое обновление

## 3. Выходные данные

### 3.1 Форматы вывода
- ✅ Консольный вывод
- ✅ Сохранение в БД
- ❌ Форматированные отчеты
- ❌ Экспорт в CSV/Excel

### 3.2 Визуализация
- ❌ Графики изменений цены
- ❌ Визуализация корреляций
- ❌ Статистические графики

## 4. Требования к качеству

### 4.1 Надежность
- ✅ Валидация входных данных
- ✅ Обработка исключений
- ✅ Транзакции в БД
- ❌ Метрики качества анализа

### 4.2 Производительность
- ✅ Оптимизация запросов
- ✅ Индексация БД
- ❌ Кэширование результатов
- ❌ Асинхронная обработка

## 5. Безопасность

### 5.1 Защита данных
- ❌ Шифрование данных
- ❌ Безопасное хранение ключей
- ❌ Защита от инъекций

### 5.2 Доступ
- ❌ Аутентификация
- ❌ Авторизация
- ❌ Ограничение доступа

## 6. Мониторинг

### 6.1 Отслеживание
- ✅ Логирование операций
- ❌ Мониторинг производительности
- ❌ Алерты при ошибках

### 6.2 Метрики
- ❌ Время обработки
- ❌ Точность анализа
- ❌ Использование ресурсов

## 7. Документация

### 7.1 Техническая документация
- ✅ architecture.md
- ✅ Комментарии в коде
- ❌ API документация
- ❌ Руководство разработчика

### 7.2 Пользовательская документация
- ❌ Руководство пользователя
- ❌ Примеры использования
- ❌ FAQ
